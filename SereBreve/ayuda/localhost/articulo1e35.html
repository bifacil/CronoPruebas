<!DOCTYPE html><html lang="es">
<!-- Mirrored from localhost/articulo.html?id=39 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Oct 2015 14:22:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><title>Uso de tablas agregadas</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="Las tablas agregadas sirven para mejorar los tiempos de respuesta de las consultas. " /><meta name="keywords" content="Bingo Intelligence, ayuda, Business Intelligence" /><link href="images/favicon.html" rel="shortcut icon" /><link href="ayuda.css" rel="stylesheet" type="text/css" /><link href="rss.xml" rel="alternate" type="application/rss+xml" title="Ayuda Bingo (RSS)" /><link href="http://help.bingointelligence.com/articulo.html" rel="canonical" /><!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]--></head><body data-updated="28-Oct-2015 14:32:30"><header><div id="titulo"><a href="index.html"><img src="images/logoBI.png" alt="Business Intelligence" title="Business Intelligence" width="325" height="100" style="border:0px" /></a></div><div id="subtitulo"><h1>Uso de tablas agregadas</h1></div></header><div id="wrapper"><article><div class="contenido"><div><h3>Necesidad de las tablas agregadas</h3><p>Las tablas agregadas sirven para mejorar los tiempos de respuesta de las consultas. </p><p>Existen muchos factores que influyen en el rendimiento de las consultas. Para obtener un buen rendimiento es necesario, entre otras cosas, un buen diseño del modelo de datos y la creación de índices sobre aquellos campos muy selectivos que se filtran habitualmente. Sin embargo, este tipo de técnicas no son suficientes cuando se trabaja con bases de datos con muchos millones de registros y se requiere unos tiempos de respuesta reducidos.</p><p>Inevitablemente, al aumentar el número de registros que contienen las tablas se penaliza el tiempo requerido para resolver las consultas. Cuando las tablas son grandes, el gestor de base de datos debe leer millones de registros para seleccionar unos pocos y finalmente agruparlos.</p><p>Para evitar estas situaciones, el diseñador de la base de datos puede preparar tablas agregadas que contienen la misma información que las tablas detalladas, pero con menor nivel de detalle y con los datos ya sumarizados.</p><p><span>En la base de datos de </span><a href="http://www.businessintelligence.es/ayuda/articulo.html?id=41">LA BIBLIO</a><span>, por ejemplo, la tabla de ventas tiene varios millones de registros. </span></p><p style="text-align:center"><img src="../businessintelligence.es/ayuda/imagenes/tabla-detalle-ventas.png" alt="Diagrama con 7 tablas relacionadas" title="Diagrama con 7 tablas relacionadas" width="554" height="356" /></p><p><span>La tabla de ventas de este catálogo contiene todas las ventas, de todas las tiendas, de todos los libros, día a día. Sin embargo, los responsables comerciales que utilizan </span><i><b>Bingo Análisis</b></i><span> para acceder a su información corporativa no suelen necesitar tanto nivel de detalle. Habitualmente, consultan los totales de ventas de sus tiendas, por meses, por semanas, o por fechas. Y raramente consultan el detalle de los libros.</span></p><p><span>¿No se podría aprovechar esta circunstancia para mejorar el rendimiento de estas consultas habituales? Sí. En el catálogo de Bingo Intelligence </span><b>se pueden incluir las tablas agregadas, y el generador de consultas SQL las utilizará cuando sea posible.</b><span></span></p><h3>Crear una tabla agregada</h3><p><b>Bingo Intelligence no crea las tablas agregadas.</b><span> Es responsabilidad del diseñador de la base de datos crear y mantener las tablas agregadas que sean necesarias, e incluirlas en catálogo.</span></p><p>Para crear la tabla agregada se deben tener en cuenta estas consideraciones:</p><ul><li>Sólo se deben crear aquellas tablas agregadas que sean necesarias. Una tabla agregada es un objeto más a mantener, por lo que sólo se debería crear si permite mejorar el rendimiento de un número significativo de consultas.</li><li><b>El nombre de los campos de la tabla agregada debe coincidir con el nombre de los campos equivalentes de la tabla detallada.</b></li></ul><p>Bingo Intelligence utilizará la tabla agregada cuando todos los campos de la tabla detallada que se mencionan en una consulta SQL aparecen también en la tabla agregada. En caso de que existan varias tablas agregadas que cumplan esta condición, se seleccionará aquella que tenga un menor número de registros.</p><p>En la base de datos de ejemplo, la tabla LB_VENTAS_DIARIAS es una tabla agregada de LB_VENTAS:</p><p style="text-align:center"><img src="../businessintelligence.es/ayuda/imagenes/tabla-agregada-venta.png" alt="Comparación de las tablas LB_VENTAS y LB_VENTAS_DIARIAS" title="Comparación de las tablas LB_VENTAS y LB_VENTAS_DIARIAS" width="454" height="175" /></p><p>Como se ve en la imagen, la tabla “Ventas diarias” tiene los mismos campos que la tabla de “Ventas”, excepto el campo “ID_LIBRO”. La tabla detallada tiene varios millones de registros, mientras que la tabla agregada tiene varias decenas de miles... Evidentemente, las consultas contra LB_VENTAS_DIARIAS irán significativamente más rápidas.</p><h3>Incluir la tabla agregada en el catálogo</h3><p><b>Para que Bingo Intelligence haga uso de la tabla agregada es necesario importarla en el catálogo, e indicarle que se trata de una tabla agregada.</b></p><p><span>Para importar la tabla agregada se tiene que ir al panel de navegación de Bases de datos, y seleccionar la opción “</span><b>Importar tabla</b><span>” del menú contextual (botón derecho).</span></p><p style="text-align:center"><img src="../businessintelligence.es/ayuda/imagenes/importar-tabla.png" alt="Importar tabla desde el panel de navegación" title="Importar tabla desde el panel de navegación" width="519" height="394" /></p><p><b>Al importar una tabla no se añade automáticamente en el diagrama de tablas. </b><span>Para definir una tabla agregada, no es necesario que ésta aparezca en el diagrama. Es suficiente que esté importada en el catálogo y que Bingo Intelligence conozca su estructura.</span></p><p>Para indicar que se trata de una tabla agregada es necesario modificar sus propiedades. Para ello, se ha de desplegar la pestaña de “Tablas importadas”, y abrir sus “Propiedades”:</p><p style="text-align:center"><img src="../businessintelligence.es/ayuda/imagenes/abrir-propiedades-tabla.png" alt="Abrir propiedades desde el panel de navegación" title="Abrir propiedades desde el panel de navegación" width="520" height="420" /></p><p>En el formulario de propiedades se tiene que indicar que esta tabla es una tabla agregada de la tabla de detalle denominada “LB_VENTAS”:</p><p style="text-align:center"><img src="../businessintelligence.es/ayuda/imagenes/propiedades-tabla-agregada.png" alt="Configuración de la tabla agregada. Se debe indicar cual es su tabla de detalle." title="Configuración de la tabla agregada. Se debe indicar cual es su tabla de detalle." width="567" height="371" /></p><p>Resumiendo, para que Bingo Intelligence utilice las tablas agregadas sólo es necesario:</p><ul><li>Importar la tabla agregada</li><li>En sus propiedades, indicar cuál es la tabla de detalle que resume</li></ul><p>En concreto, no es necesario modificar el diagrama de tablas, ni la definición de ningún indicador, ni las propiedades de la tabla de detalle.</p><h3>Verificación de la configuración de la tabla agregada</h3><p>Es recomendable verificar que la configuración se ha realizado correctamente y que Bingo Intelligence utilizará la tabla agregada cuando se posible.</p><p><span>Para ello, se puede utilizar el </span><a href="http://www.businessintelligence.es/ayuda/articulo.html?id=43">“Probador de consultas SQL”</a><span> para definir esta consulta:</span></p><p style="text-align:center"><img src="../businessintelligence.es/ayuda/imagenes/consuta-agregada1.png" alt="Consulta que utilizará la tabla agregada" title="Consulta que utilizará la tabla agregada" width="396" height="529" /></p><p><span>Con el botón “</span><b>SQL</b><span>” se puede verificar la sentencia:</span></p><p style="text-align:center"><img src="../businessintelligence.es/ayuda/imagenes/sql-con-tabla-agregada.png" alt="SQL que muestra el modo en que Bingo Intelligence incluye las tablas agregadas." title="SQL que muestra el modo en que Bingo Intelligence incluye las tablas agregadas." width="419" height="125" /></p><p><span>Efectivamente, se observa que se ha incluido la tabla “LB_VENTAS_DIARIAS”  (y que en esta sentencia tiene el </span><i>alias</i><span> de “LB_VENTAS”). </span></p><p>Para terminar la verificación, se puede incluir la “Editorial” en la consulta, por lo que ya no será posible utilizar la tabla agregada, y la consulta generada será:</p><p style="text-align:center"><img src="../businessintelligence.es/ayuda/imagenes/sql-sin-tabla-agregada.png" alt="Esta consulta NO se puede resolver con la tabla agregada" title="Esta consulta NO se puede resolver con la tabla agregada" width="466" height="159" /></p><p><span>De esta manera, los usuarios podrán utilizar las tablas agregadas de un </span><b>modo transparente</b><span>, y siempre obtendrán el resultado correcto, y de la manera más </span><b>eficiente</b><span> posible.</span></p></div></div><div class="comentarios"><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'bingointelligence';
var disqus_identifier = 'ayuda39';
var disqus_title = 'Uso de tablas agregadas';
var disqus_url = 'articulo1e35.html?id=39';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '../bingointelligence.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script></div></article><nav><aside><h4>Centro de ayuda</h4><p>Binenvenido al centro de ayuda de la plataforma de Bingo Intelligence. En estas p&#225;ginas encontrar&#225;s informaci&#243;n sobre las funcionalidades de Bingo Intelligence, y ayuda para la resoluci&#243;n de los problemas m&#225;s comunes.</p><ul><li><a href="temadcfd.html?id=4">Manual de usuario</a></li><li class="selected">Manual t&#233;cnico</li></ul></aside><aside><h4>Manual t&#233;cnico</h4><ul><li><a href="tema4ef9.html?id=12">Tabla de contenidos</a></li><li><a href="tema3a9f.html?id=6">Instalaci&#243;n</a></li><li><a href="temac3c9.html?id=8">Crear un cat&#225;logo</a><ul class="nivel2"><li><a href="articulo6396.html?id=42">&#191;Qu&#233; es un cat&#225;logo?</a></li><li><a href="articulo4944.html?id=48">C&#243;mo crear un cat&#225;logo</a></li><li class="selected">Uso de tablas agregadas</li><li><a href="articulo2580.html?id=43">C&#243;mo se generan las sentencias SQL</a></li><li><a href="articulo4411.html?id=37">C&#243;mo crear una conexi&#243;n a la base de datos</a></li><li><a href="articulocdef.html?id=38">Primeros pasos con el dise&#241;ador de cat&#225;logos</a></li><li><a href="articulo2568.html?id=49">El administrador de tablas y relaciones</a></li><li><a href="articulo98dc.html?id=45">Creaci&#243;n de indicadores b&#225;sicos</a></li><li><a href="articuloa916.html?id=44">Creaci&#243;n de indicadores avanzados</a></li><li><a href="articulo084d.html?id=46">Forzar la inclusi&#243;n de tablas en las consultas</a></li></ul></li></ul></aside></nav></div><footer><p><span>&#169; 2010 Bingo Intelligence S.L. Todos los derechos reservados. </span><a href="http://validator.w3.org/check?uri=referer" rel="nofollow">HTML5</a><span> &#183; </span><a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" rel="nofollow">CSS3</a></p></footer></body>
<!-- Mirrored from localhost/articulo.html?id=39 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Oct 2015 14:23:15 GMT -->
</html>