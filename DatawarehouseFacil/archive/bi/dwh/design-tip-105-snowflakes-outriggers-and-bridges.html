

<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Design Tip #105 Snowflakes, Outriggers, and Bridges</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description">
		<meta name="application-name">
		<meta name="title">
		<link href="../../../favicon.ico" rel="shortcut icon" />
		<link rel="stylesheet" href="../../../resources/main.css">
	</head>
	

	<body>
	
		<div class="jumbotron1" id="jumbotron1">
			<div class="container">
				<h1 class="article-header">Design Tip #105 Snowflakes, Outriggers, and Bridges</h1>
				<div class="article-date">mi&#233;rcoles, 3 de septiembre de 2008</div>
			</div>
		</div>
	
		<hr id="anchor-point"/>
		<div class="container-fluid">
			<a href="../../../archive/bi/dwh/design-tip-105-snowflakes-outriggers-and-bridges.html#" class="navigationBars">
				<div class="iconBars closed">
					<span id="icon-bar1" class="iconBar colorChange background"></span>
					<span id="icon-bar2" class="iconBar colorChange background"></span>
					<span id="icon-bar3" class="iconBar colorChange background"></span>
				</div>
			</a>
			<div class="navLinks">
				<a id="link1" class="colorChange navLink link1" href="../../../index.html">Home</a>
				<a class="iconLink" href="../../../index.html"><i title="Home" id="icon1" class="fa fa-home colorChange link1"></i></a>
	
				<a id="link2" class="colorChange navLink link2" href="../../../about.html">Sobre mi</a>
				<a class="iconLink" href="../../../about.html"><i title="Sobre mi" id="icon2" class="fa fa-envelope colorChange link2"></i></a>

				<a id="link2" class="colorChange navLink link3" href="../../../archive.html">Archivo</a>
				<a class="iconLink" href="../../../about.html"><i title="Archivo" id="icon3" class="fa fa-archive colorChange link3"></i></a>
			</div>			
			
			<div class="row">
				<div class="content col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
					<div class="article">
						<p class="article-description"></p>				
						<div class="article-content">
							<div class="pf-content">
							<p>Students often blur the concepts of snowflakes, outriggers, and bridges. In this Design Tip, Iâ€™ll tryÂ to reduce the confusion surrounding these embellishments to the standard dimensional model.</p>
							<p>When a dimension table is snowflaked, the redundant many-to-one attributes are removed intoÂ separate dimension tables. For example, instead of collapsing hierarchical rollups such as brand andÂ category into columns of a product dimension table, the attributes are stored in separate brand andÂ category tables which are then linked to the product table. With snowflakes, the dimension tablesÂ are normalized to third normal form. A standard dimensional model often has 10 to 20Â denormalized dimension tables surrounding the fact table in a single layer halo; this exact same dataÂ might easily be represented by 100 or more linked dimension tables in a snowflake schema.</p>
							<p>We generally encourage you to handle many-to-one hierarchical relationships in a single dimensionÂ table rather than snowflaking. Snowflakes may appear optimal to an experienced OLTP dataÂ modeler, but theyâ€™re suboptimal for DW/BI query performance. The linked snowflaked tables createÂ complexity and confusion for users directly exposed to the table structures; even if users areÂ buffered from the tables, snowflaking increases complexity for the optimizer which must linkÂ hundreds of tables together to resolve queries. Snowflakes also put burden on the ETL system toÂ manage the keys linking the normalized tables which can become grossly complex when the linkedÂ hierarchical relationships are subject to change. While snowflaking may save some space byÂ replacing repeated text strings with codes, the savings are negligible, especially in light of the priceÂ paid for the extra ETL burden and query complexity.</p>
							<p>Outriggers are similar to snowflakes in that theyâ€™re used for many-to-one relationships, howeverÂ theyâ€™re more limited. Outriggers are dimension tables joined to other dimension tables, but theyâ€™reÂ just one more layer removed from the fact table, rather than being fully normalized snowflakes.Â Outriggers are most frequently used when one standard dimension table is referenced in anotherÂ dimension, such as a hire date attribute in the employee dimension table. If the users want to slice and-dice the hire date by non-standard calendar attributes, such as the fiscal year, then a dateÂ dimension table (with unique column labels such as Hire Date Fiscal Year) could serve as anÂ outrigger to the employee dimension table joined on a date key.</p>
							<p>Like many things in life, outriggers are acceptable in moderation, but they should be viewed as theÂ exception rather than the rule. If outriggers are rampant in your dimensional model, itâ€™s time toÂ return to the drawing board given the potentially negative impact on ease-of-use and queryÂ performance.</p>
							<p>Bridge tables are used in two more complicated scenarios. The first is where a many-to-manyÂ relationship canâ€™t be resolved in the fact table itself (where M:M relationships are normally handled)Â because a single fact measurement is associated with multiple occurrences of a dimension, such asÂ multiple customers associated with a single bank account balance. Placing a customer dimensionÂ key in the fact table would require the unnatural and unreasonable divvying of the balance amongstÂ multiple customers, so a bridge table with dual keys to capture the many-to-many relationshipÂ between customers and accounts is used in conjunction with the measurement fact table. BridgeÂ tables are also used to represent a ragged or variable depth hierarchical relationship which cannotÂ be reasonably forced into a simpler fixed depth hierarchy of many-to-one attributes in a dimensionÂ table.</p>
							<p>In these isolated situations, the bridge table comes to the rescue, albeit at a price. SometimesÂ bridges are used to capture the complete data relationships, but pseudo compromises, such asÂ including the primary account holder or top rollup level as dimension attributes, help avoid payingÂ the toll for navigating the bridge on every query.</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="../../../resources/jquery.min.js"></script>
		<script src="../../../resources/menu.js"></script>
			
		
		<a id="scrollUp" href="../../../archive/bi/dwh/design-tip-105-snowflakes-outriggers-and-bridges.html#top" title="Volver" style="position: fixed; z-index: 2147483647; display: none;">
			<i class="fa fa-chevron-up"></i>
		</a>
	</body>
</html>